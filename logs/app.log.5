2024-03-23 23:33:17,908 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: node role, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-23 23:33:21,746 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-23 23:33:52,477 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-23 23:33:52,492 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: node role, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-23 23:33:55,438 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs",
    "role": "assistant",
    "tool_calls": null
}
2024-03-23 23:36:00,578 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-23 23:36:00,608 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: node role, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of leaf switches pending for registration?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-23 23:37:53,208 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.validateOverlappingVlans,\"yes\")'\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.disableEpDampening,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"export-rtctrl\"),eq(fvSubnet.scope,\"shared-rtctrl\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlod,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=eq(dhcpClient.clientEvent,\"pending\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-100\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=eq(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsProv.tnVzBrCPName,\"dns_contract\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=eq(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=and(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\"))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 09:04:34,363 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 09:04:34,378 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: node role, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of leaf switches pending for registration?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 09:06:30,398 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlood,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=eq(dhcpClient.clientEvent,\"pending\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzEntry -x 'query-target-filter=eq(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x page-size=20 order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsProv.tnVzBrCPName,\"dns_contract\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.tnVzFilterName,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) eq(vzEntry.dFromPort,\"53\") eq(vzEntry.dToPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 09:36:24,970 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 09:36:24,984 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: node role, valid values are `leaf` and `spine`, by default both leaf and spine will be included\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of leaf switches pending for registration?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 09:38:16,001 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/tepPool\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlod,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=and(eq(fvBD.descr,\"\"),wcard(fvBD.dn,\"vlan\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=eq(dhcpClient.clientEvent,\"pending\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-100\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=wcard(faultInst.dn,\"/tn-demo/\")' -x page-size=20 order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.ind,\"creation\"))' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\"))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 10:38:30,036 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 10:39:44,767 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of leaf switches pending for registration?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 10:41:35,685 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlood,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=and(eq(fvBD.descr,\"\"),wcard(fvBD.dn,\"vlan\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=eq(dhcpClient.clientEvent,\"pending\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(ge(fvRsPathAtt.encap,\"vlan-100\"),le(fvRsPathAtt.encap,\"vlan-200\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),wcard(aaaModLR.affected,\"/BD-bd_infra/\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"))'\nmoquery -c topSystem -x 'query-target-filter=ge(topSystem.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x page-size=20 'query-target-filter=gt(faultInst.severity,\"major\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=and(ge(fvnsEncapBlk.from,\"vlan-100\"),le(fvnsEncapBlk.to,\"vlan-200\"))'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=and(or(eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\")),or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 10:50:49,235 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 10:50:49,250 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 10:52:42,372 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.arpFlood,\"yes\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(ne(fvCtx.name,\"default\"),eq(fvCtx.ipDataPlaneLearning,\"enabled\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/BD-bd_infra/\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"))'\nmoquery -c topSystem -x 'query-target-filter=ge(topSystem.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extRsL3DomAtt rsp-subtree=children rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree-class=infraRsLldpIfPol rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree-class=infraHPortS rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree-class=infraRsAccBaseGrp rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree-class=fvnsEncapBlk rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree-class=vzSubj rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree-class=vzEntry rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) \\'query-target-filter=eq(vzEntry.dFromPort,\"53\")\\''\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree=children rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 11:01:33,855 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 11:01:33,874 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 11:03:42,881 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.validateOverlappingVlans,\"yes\")'\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.disableEpDampening,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/pod-\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.arpFlood,\"yes\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsProv.tnVzBrCPName,\"dns_contract\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 11:05:26,053 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 11:07:37,615 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.disableEpDampening,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/pod-\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"export-rtctrl\"),eq(fvSubnet.scope,\"shared-rtctrl\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),eq(fvBD.arpFlod,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\")) order-by=faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20T00:00\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20T00:00\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\") page-size=20'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(bw(fvRsPathAtt.modTs,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),eq(fvRsPathAtt.modId,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 11:08:49,548 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 11:10:43,511 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"export-rtctrl\"),eq(fvSubnet.scope,\"shared-rtctrl\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.descr,\"vlan\"),eq(fvBD.descr,\"\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(bw(fvRsPathAtt.modTs,\"2024-03-20\",\"2024-03-25\"),eq(fvRsPathAtt.modId,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 11:11:53,442 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 11:13:50,709 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),eq(fvBD.arpFlod,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=and(eq(fvBD.descr,\"\"),wcard(fvBD.dn,\"vlan\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/BD-bd_infra/\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\") page-size=20'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 11:15:12,596 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (default BDs names are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 11:17:28,925 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlod,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=and(eq(fvBD.descr,\"\"),wcard(fvBD.dn,\"vlan\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 17:10:00,912 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 17:10:00,922 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 17:11:36,819 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/pod-\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlod,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 17:13:01,232 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 17:14:53,746 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"public\"),eq(fvSubnet.scope,\"shared\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=and(eq(fvBD.descr,\"\"),wcard(fvBD.dn,\"vlan\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzEntry -x 'query-target-filter=eq(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") order-by=faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20T00:00\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20T00:00\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\") page-size=20'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.tnVzFilterName,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.dn,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 17:16:17,639 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 17:18:11,812 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"public\"),eq(fvSubnet.scope,\"shared\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=eq(fvBD.limitIpLearnToSubnets,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\") rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree=children rsp-subtree-include=required'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extRsL3DomAtt rsp-subtree=children rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree-class=infraRsLldpIfPol rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree-class=infraHPortS rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree-class=infraRsAccBaseGrp rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree-class=fvnsEncapBlk rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree-class=vzEntry rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\"),eq(vzEntry.protocol,\"icmp\"))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree=children rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 17:19:25,677 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 17:20:58,254 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.validateOverlappingVlans,\"yes\")'\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.disableEpDampening,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/pod-\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlood,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.descr,\"vlan\"),eq(fvBD.descr,\"\"))'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),wcard(aaaModLR.affected,\"/BD-bd_infra/\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extRsL3DomAtt rsp-subtree=children rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree-class=infraRsLldpIfPol rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree-class=infraHPortS rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvRsCtx.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree-class=infraRsAccBaseGrp rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree-class=fvnsEncapBlk rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree-class=vzEntry rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\"),eq(vzEntry.protocol,\"icmp\"))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree=children rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 17:22:23,401 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we are using `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlod(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with empty descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 17:24:09,007 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"export-rtctrl\"),eq(fvSubnet.scope,\"shared-rtctrl\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlod,\"yes\"),ne(fvBD.name,\"default\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/BD-bd_infra/\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.protocol,\"dns\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 22:00:48,049 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 22:02:24,951 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 22:02:24,964 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * only use one filter at a time, never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we use `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '* `name`: name of a bridge domain (there are default bridge domains pre-exists, they are: `default`,`ave-ctrl`, and `inb`)\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 22:04:29,287 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"public\"),eq(fvSubnet.scope,\"shared\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzFilter.dn,\"/subj-/\") rsp-subtree-class=vzEntry rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(vzEntry.action,\"permit\")\\''\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(eq(aaaModLR.affected,\"/BD-bd_infra/\"),bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(wcard(fvRsCtx.tDn,\"/tn-demo/ctx-vrf_demo\"),wcard(fvBD.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsBDToOut.tDn,\"/out-demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzSubj.dn,\"/subj-/\") rsp-subtree-class=vzRsSubjFiltAtt rsp-subtree-include=required \\'rsp-subtree-filter=eq(vzRsSubjFiltAtt.action,\"permit\")\\''\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) rsp-subtree-filter=and(eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\"))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-24 22:08:33,812 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-24 22:08:33,827 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we use `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-24 22:10:43,743 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\") ne(fvBD.name,\"ave-ctrl\") ne(fvBD.name,\"inb\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=eq(fvBD.limitIpLearnToSubnets,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"overlay-1\"),ne(fvCtx.name,\"default\"),ne(fvCtx.name,\"copy\"),ne(fvCtx.name,\"oob\"),ne(fvCtx.name,\"inb\"),ne(fvCtx.name,\"ave-ctrl\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(ge(fvRsPathAtt.encap,\"vlan-100\"),le(fvRsPathAtt.encap,\"vlan-200\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\") rsp-subtree-include=count'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\") rsp-subtree-include=count'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvRsCtx.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=and(ge(fvnsEncapBlk.from,\"vlan-100\"),le(fvnsEncapBlk.to,\"vlan-200\"))'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(and(eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\"),eq(vzEntry.protocol,\"tcp\")),and(eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\"),eq(vzEntry.protocol,\"udp\")))'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 20:37:57,780 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-25 20:37:57,802 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we use `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of Bridge Domains?  \\n', '`moquery -c fvBD`\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-25 20:39:42,181 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=or(eq(fvSubnet.scope,\"public\"),eq(fvSubnet.scope,\"shared\"))'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"default\"),ne(fvCtx.name,\"overlay-1\"),ne(fvCtx.name,\"copy\"),ne(fvCtx.name,\"oob\"),ne(fvCtx.name,\"inb\"),ne(fvCtx.name,\"ave-ctrl\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(eq(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj,vzRsSubjFiltAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) eq(vzEntry.dFromPort,\"53\") eq(vzEntry.dToPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 20:43:20,131 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-25 20:43:20,155 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '## Example \\n', 'Assuming that you are provided the following class information\\n', '```\\n', '### fvTenant: Tenant class\\n', '* `name`: name of the Tenant\\n', '* CHILDREN CLASSES:\\n', '  - `fvAp`: Application Profile class\\n', '    - `name`: name of the application profile\\n', '    - CHILDREN CLASSES:\\n', '      - `fvAEPg`: EPG class\\n', '        - `name`: name of the EPG\\n', '  - `fvBD`: Bridge Domain class\\n', '    - `name`: name of the bridge domain\\n', '    - CHILDREN CLASSES:\\n', '      - `fvSubnet`: Subnet class\\n', '        - `ip`: ip subnet, example \"10.0.0.1/24\"\\n', '```\\n', '* To get the Tenant named `example_tenant` with no additional children information: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")`\\n', '* To get a list of AP in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\") rsp-subtree-class=fvAp rsp-subtree=children`\\n', '* To get a list of EPGs in Tenant `example_tenant`: `moquery -c fvTenant -x \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\' rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required`\\n', '* To get the EPG named `my_epg` in tenant `example_tenant`, we need to perform a reverse lookup with a filter: `moquery -c fvTenant -x rsp-subtree-class=fvAEPg rsp-subtree=full rsp-subtree-include=required \\'query-target-filter=eq(fvAEPg.name,\"my_epg\")`\\n', '* To find all BD and APs of Tenant `example_tenant`, use comma to separate multiple classes query: `moquery -c fvTenant -x rsp-subtree-class=fvAp,fvBD rsp-subtree=children \\'query-target-filter=eq(fvTenant.name,\"example_tenant\")\\'`\\n', '* To get all the faults related to Tenant `example_tenant`: `moquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree`\\n', '* To get a list of Tenants and associated EPGs, excluding any Tenant named `common`: `moquery -c fvTenant -x rsp-subtree=full \\'query-target-filter=ne(fvTenant.name,\"common\") rsp-subtree-class=fvAEPg rsp-subtree-include=required\\'`\\n', '**note** we use `rsp-subtree=full` if the children class is more than 2 layers down from the parent object\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-25 20:45:36,540 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.validateOverlappingVlans,\"yes\")'\nmoquery -c infraSetPol -x 'query-target-filter=ne(infraSetPol.disableEpDampening,\"yes\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvBD rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvBD rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\") rsp-subtree-filter=eq(fvBD.unicastRoute,\"yes\")'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/pod-\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvBD rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\") rsp-subtree-filter=eq(fvBD.unicastRoute,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\") rsp-subtree-filter=eq(fvBD.arpFlood,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=ne(fvCtx.name,\"overlay-1\"),ne(fvCtx.name,\"default\"),ne(fvCtx.name,\"copy\"),ne(fvCtx.name,\"oob\"),ne(fvCtx.name,\"inb\"),ne(fvCtx.name,\"ave-ctrl\") rsp-subtree-filter=eq(fvCtx.ipDataPlaneLearning,\"enabled\")'\nmoquery -c dhcpClient -x 'query-target-filter=eq(dhcpClient.configNodeRole,\"leaf\") rsp-subtree-filter=eq(dhcpClient.clientEvent,\"pending\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-100\") rsp-subtree-filter=eq(fvRsPathAtt.mode,\"regular\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvRsPathAtt rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\") rsp-subtree-filter=eq(fvAEPg.name,\"epg_vlan0005\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree-class=vzSubj rsp-subtree=children 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c fvTenant -x rsp-subtree-include=faults,no-scoped query-target=subtree 'query-target-filter=eq(fvTenant.name,\"demo\")' -x order-by=faultInst.severity|desc\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00:00\",\"2024-03-25T23:59:59\") rsp-subtree-filter=eq(aaaModLR.ind,\"creation\")'\nmoquery -c fvBD -x rsp-subtree-class=aaaModLR rsp-subtree=children 'query-target-filter=eq(fvBD.name,\"bd_infra\") rsp-subtree-filter=bw(aaaModLR.created,\"2024-03-20T00:00:00\",\"2024-03-25T23:59:59\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvBD rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\") rsp-subtree-filter=eq(fvBD.name,\"bd_app\") rsp-subtree-include=audit-logs rsp-subtree-filter=bw(aaaModLR.created,\"2024-03-20T00:00:00\",\"2024-03-25T23:59:59\")'\nmoquery -c topSystem -x 'query-target-filter=ge(topSystem.lastRebootTime,\"2024-01-23T00:00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extRsL3DomAtt rsp-subtree=children\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0/32\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children 'query-target-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children 'query-target-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree-include=faults,no-scoped query-target=subtree\nmoquery -c infraAccBndlGrp,infraAccPortGrp -x rsp-subtree-class=infraRsLldpIfPol rsp-subtree=children 'query-target-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree-class=infraHPortS rsp-subtree=children 'query-target-filter=eq(infraRsAccBaseGrp.tDn,\"uni/infra/funcprof/accportgrp-phys_bm\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children 'query-target-filter=eq(fvRsDomAtt.tDn,\"uni/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsDomAtt rsp-subtree=children 'query-target-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c fvRsPathAtt -x rsp-subtree-class=aaaModLR rsp-subtree=children 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00:00\",\"2024-03-25T23:59:59\") rsp-subtree-filter=eq(aaaModLR.user,\"admin\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children 'query-target-filter=eq(fvRsBd.tnFvBDName,\"netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children 'query-target-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvTenant -x rsp-subtree-class=fvBD rsp-subtree=children 'query-target-filter=eq(fvTenant.name,\"demo\") rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_demo\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children 'query-target-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree-class=l3extSubnet rsp-subtree=children 'query-target-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree-class=infraRsAccBaseGrp rsp-subtree=children 'query-target-filter=eq(infraRsAccBaseGrp.tDn,\"uni/infra/funcprof/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsCons,fvRsProv rsp-subtree=children 'query-target-filter=eq(fvRsCons.tnVzBrCPName,\"dns_contract\"),eq(fvRsProv.tnVzBrCPName,\"dns_contract\")'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children 'query-target-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree-class=fvnsEncapBlk rsp-subtree=children 'query-target-filter=bw(fvnsEncapBlk.from,\"vlan-100\"),bw(fvnsEncapBlk.to,\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree-class=vzSubj rsp-subtree=children 'query-target-filter=wcard(vzSubj.name,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree-class=vzEntry rsp-subtree=children 'query-target-filter=eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\") rsp-subtree-filter=eq(vzEntry.dFromPort,\"53\"),eq(vzEntry.dToPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree=children",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 20:48:52,978 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-25 20:48:52,999 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-25 20:50:55,772 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=eq(topSystem.role,\"controller\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=eq(fvBD.limitIpLearnToSubnets,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default\"),ne(fvBD.name,\"ave-ctrl\"),ne(fvBD.name,\"inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(ne(fvCtx.name,\"overlay-1\"),ne(fvCtx.name,\"default\"),ne(fvCtx.name,\"copy\"),ne(fvCtx.name,\"oob\"),ne(fvCtx.name,\"inb\"),ne(fvCtx.name,\"ave-ctrl\"),eq(fvCtx.ipDataPlaneLearning,\"enabled\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x page-size=20 page=0 order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),ge(aaaModLR.created,\"2024-03-20\"))'\nmoquery -c topSystem -x 'query-target-filter=ge(topSystem.lastRebootTime,\"2024-01-23\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree=children rsp-subtree-class=faultInst rsp-subtree-include=required\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(wcard(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvRsCtx.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree-class=fvRsBd rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) eq(vzEntry.dFromPort,\"53\") eq(vzEntry.dToPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 21:09:07,271 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-25 21:09:07,286 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-25 21:10:44,010 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/tepPool\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c l3extSubnet -x 'query-target-filter=wcard(l3extSubnet.scope,\"export-rtctrl,shared-rtctrl\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default,ave-ctrl,inb\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=eq(fvBD.limitIpLearnToSubnets,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.name,\"default,ave-ctrl,inb\"),eq(fvBD.arpFlood,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"overlay-1,default,copy,oob,inb,ave-ctrl\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.configNodeRole,\"leaf\"),eq(dhcpClient.clientEvent,\"pending\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=bw(fvRsPathAtt.encap,\"vlan-100\",\"vlan-200\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")' -x page-size=1\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\")' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"))'\nmoquery -c fabricNode -x 'query-target-filter=ge(fabricNode.lastRebootTime,\"2024-01-23T00:00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0/32\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree=children rsp-subtree-class=faultInst rsp-subtree-include=required\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm/\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20\",\"2024-03-25\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(wcard(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvRsCtx.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=bw(fvnsEncapBlk.from,\"vlan-100\",\"vlan-200\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\")) eq(vzEntry.dFromPort,\"53\") eq(vzEntry.dToPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 21:37:36,984 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
2024-03-25 21:37:37,001 - chattynetworks.aci.conversation - INFO - Sending completion request to chatGPT with the following:
 Message: [
    {
        "role": "system",
        "content": "['# ACI Moquery Prompt Instruction\\n', '\\n', 'You are a co-pilot to the network engineers. \\n', '* Your responsibilities are to provide assistance to network engineer in constructing Cisco ACI queries and execute commands\\n', '* Do not provide commands or information that was not provided to you in this instruction\\n', '* Respond with only the command, do not add any descriptions\\n', '* Only provide explanation if the user requested\\n', '* You do not ever apologize and strictly generate networking commands based on the provided examples.\\n', \"* Do not provide any networking commands that can't be inferred from the instructions\\n\", \"* Inform the user when you can't infer the networking command due to the lack of context of the conversation and state what is the missing in the context.\\n\", '* Do not use any classes not listed in this guide\\n', '* Do not include \"`\" symbols in your response\\n', '* Make sure to review the examples before building the final query\\n', '* For each question, make sure to always identify the parent class and the children class first, if applicable.\\n', '* If reverse lookup is needed, make sure to follow the \"Reverse Lookup Technique\" approach\\n', '* The following are syntax to construct ACI queries, think step by step to build the query. \\n', '* Before constructing a query, make sure to carefully review all details of a given class description\\n', '\\n', '## Syntax Format\\n', 'The general format of a Cisco ACI query command is structured as follows:\\n', '`moquery -c <class1>,<class2>,<class2> -x <option1> <option2> <option3>`...etc.\\n', '\\n', 'we only need to specify `-x` once, even for multiple options\\n', 'the format `<class1>,<class2>,<class3>` is called multi-class query. It will return all objects for the matching class name.\\n', '\\n', '* query-target-filter: filter based on query class, general format: `\\'<operator>(<filter>)\\'`, where `filter` looks like this `<class>.<attribute>,\"value_to_filter\"`\\n', '  * example: `moquery -c <class> -x \\'query-target-filter=eq(<class>.<attribute>,\"value_to_filter\")\\'`\\n', '  * never use multiple filters\\n', '* available operators are:\\n', '  1. `eq`: equal\\n', '  2. `ne`: not equal\\n', '  3. `gt`: greater than, only applies to numerical values\\n', '  4. `wcard`: wild card or contains\\n', '  5. `bw`: between 2 numerical values or time stamps\\n', '  6. `ge`: greater than or equal to\\n', '  7. `le`: less than or equal to\\n', '  8. `lt`: less than, only applies to numerical values\\n', '  9. `or`: or\\n', '  10. `and`: and\\n', '* rsp-subtree: Specifies child object level included in the response, valid values are: `no | children | full`\\n', '* rsp-subtree-class: Respond only specified classes in the subtree.\\n', '* rsp-subtree-filter: Respond only if the subtree classes matching conditions\\n', '* rsp-subtree-include: Request additional objects in the subtree\\n', '  - `required`. If `rsp-subtree-class` option is used, we should always add the `required` option.\\n', '  - `no-scoped` Response includes only the requested subtree information. Useful for getting faults related to an object.\\n', '* query-target:  restricts the scope of the query. valid options are `self(default) | children | subtree`\\n', '* order-by: Sort the response based on the property values, valid values are `asc (ascending) | desc(descending)`\\n', '* page-size: return a limited number of results\\n', '\\n', '## Frequently Used Classes and Attributes Layout\\n', '* The following describes the attributes for each class.\\n', '* Many classes have children classes as well. and each children class also has their own attributes.\\n', '  - Children classes can be directly queried, or it can be included when querying against a parent class using option `-x rsp-subtree=children`\\n', '  - For nested children class, use `-x rsp-subtree=full`\\n', '* `dn` is a universal attribute available to all classes, it means distinguished name\\n', '* Every class has an attribute of `dn`, but not all are included as they are pretty obvious.\\n', '* values in `( )` defines available options if not specifically called out.\\n', '\\n', '## Reverse Lookup Technique\\n', 'If user asks to get parent object based a child object, we need to perform reverse lookup.\\n', '`moquery -c <parent_class> -x rsp-subtree-class=<child_class> rsp-subtree-include=required rsp-subtree=children \\'rsp-subtree-filter=eq(<child_class>.<attribute>,\"value_to_match\")\\'`\\n', 'Explanation:\\n', '* `rsp-subtree-class` defines what the child class we want to target\\n', '* `rsp-subtree-include=required` ensures that we return parent object only if the child object class exist ( this should always be used by default in most cases )\\n', '* `rsp-subtree=children` returns all the children objects\\n', '* `rsp-subtree-filter` applies the filter, note that we use child_class here.\\n', '\\n', '\\n', '### fvBD: Bridge Domain Class\\n', '**note**: there are default bridge domains already-exists and we typically want to exclude them from queries, their names are: `default`,`ave-ctrl`, and `inb`\\n', '* `name`: name of a bridge domain\\n', '* `dn` example: `uni/tn-demo/BD-demo_web_bd`\\n', '* `mac`: MAC address of the bridge domain, default = 00:22:BD:F8:19:FF\\n', '* `hostBasedRouting(yes/no)`: whether host based routing is enabled or not. \\n', '* `unicastRoute(yes/no)`: The forwarding method based on predefined forwarding criteria (IP or MAC address), default = yes\\n', '* `unkMacUcastAct(flood/proxy)`: The forwarding method for unknown layer 2 destinations, default = proxy\\n', '* `limitIpLearnToSubnets(yes/no)`: limit ip learning to subnet only or not, default = no\\n', '* `arpFlood(yes/no)`: whether arp flood is enabled or not, we should automatically exclude default BDs when user asks for this.\\n', '* `descr`: description of the bridge domain\\n', '* CHILDREN CLASSES:\\n', '  - `fvSubnet`: class for subnets under a bridge domain\\n', '    * `ip`: subnet\\n', '    * `scope(public/shared/private)`: `public` = advertised out, `shared` = route leaking, `private` = not advertised out. In addition to individual options, you can also join them with comma, available combinations are: `public,shared`, `private,shared`\\n', '  - `fvRsBDToOut`: class related to Bridge Domain, for L3Out\\n', '    * `tnL3extOutName`: name of the L3Out associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_bd/rsBDToOut-demo_l3out\\n', '  - `fvRsCtx`: class related to Bridge Domain, for VRF\\n', '    * `tnFvCtxName`: name of the vrf associated with the bridge domain\\n', '    * `dn` example: uni/tn-demo/BD-demo_web_bd/rsctx \\n', '\\n', '### fvAEPg: Application EPGs class\\n', '* `name`: name of the EPG\\n', '* `descr`: description of the EPG\\n', '* `floodOnEncap(disabled/enabled)`: Control at EPG level if the traffic L2 Multicast/Broadcast and Link Local Layer should be flooded only on ENCAP or based on bridg-domain settings\", default = disabled\\n', '* `prefGrMemb(exclue/include)`: determines if EPG is part of a preferred group or not, default=exclude\\n', '* CHILDREN CLASSES:\\n', '  - `fvRsBd` class related to EPG, for bridge domain:\\n', '    * `tnFvBDName`: name of the bridge domain associated with the EPG parent\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rsbd`\\n', '  - `fvRsCons` class related to ePG, for contract consumer, `Cons` implies that the EPG is the consumer of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_web/rscons-demo_dns_contract`\\n', '  - `fvRsProv` class related to EPG, for contract provider, `Prov` implies that the EPG is the provider of the contract:\\n', '    * `tnVzBrCPName`: name of the contract associated to the EPG\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_dns/rsprov-demo_dns_contract`\\n', '  - `fvRsPathAtt`: class related to EPG, for Static Path Bindings\\n', '    * `mode(regular/untagged/native)`: The mode of the static association with the path. This is used when user specifically asked for a mode/encap type. \"regular\" mode is used when user looks for tagged VLAN, \"untagged\" is used when user looks for access VLAN or untagged VLAN, \"native\" is used when the user looks for native or 802.1P\\n', '    * `encap`: the encapsulation (VLAN) of the path, the value is represented as \"vlan-<vlan ID>\", e.g `vlan-100`\\n', '    * `instrImedcy(lazy/immediate)`: The deployment immediacy preference, default/on-demand = `lazy`.\\n', '    * `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rspathAtt-[topology/pod-1/paths-101/pathep-[eth1/5]]`, this DN can also included for identifying configuration related changes in the attribute of `aaaModLR.affected`\\n', '  - `fvRsDomAtt`: Class related to EPG, for Physical and VMM Domains\\n', '    * `instrImedcy(lazy/immediate)`: Once policies are downloaded to the leaf software, deployment immediacy can specify when the policy is pushed into the hardware policy CAM. `default=lazy`, Lazy refers to \"on demand\" in the UI\\n', '    * `tCl`: target class, can be used for filtering for either physical or vmm domain . `physDomP` = physical domain, `vmmDomP` = VMM Domain\\n', '    * `resImedcy(lazy/immediate/pre-provision)`: Specifies if policies are to be resolved immediately or when needed. `default=lazy`. `lazy` refers to `on demand` in the UI\\n', '    * VMM Domain `tDn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vmmp` describes the domain type and `vcenter_home` is the name. There are other types of VMM domains such as `OpenStack`, `microsoft hyper-v`, `K8`, etc.\\n', '    * Physical Domain `tDn` example: `uni/phys-phys` describes a physical domain named `phys`\\n', '    * VMWare Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/vmmp-VMware/dom-vcenter_home]`\\n', '    * Physical Domain `dn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001/rsdomAtt-[uni/phys-phys]`\\n', '\\n', '### vzBrCP: Contract class\\n', '* `name`: name of the contract\\n', '* CHILDREN CLASSES:\\n', '  - `vzSubj`: Contract subject class\\n', '    - `name`: name of the subject\\n', '    - CHILDREN CLASSES:\\n', '      - `vzRsSubjFiltAtt`: class related to the subject, for filters\\n', '        - `tnVzFilterName`: name of the filter\\n', '        - `action(permit/deny)`: action of the filter.\\n', '\\n', '### vzFilter: Filter class\\n', '* `name`: name of the filter\\n', '* CHILDREN CLASSES:\\n', '  - `vzEntry`: Filter entry class. Multiple filter entries can be associated with a filter\\n', '    - `name`: name of the filter entry\\n', '    - `dFromPort`: starting port number\\n', '    - `dToPort`: end port number\\n', '    - `protocol(tcp/udp/icmp)`: protocol for the filter entry.\\n', '\\n', '### fvCtx: VRF class\\n', '* `name`: name of the VRF, the default VRF names are `overlay-1`, `default`, `copy`, `oob`, `inb`, `ave-ctrl`, \\n', '* `ipDataPlaneLearning(enabled/disabled)`: controls whether to enable the learning of IP addresses in the dataplane. default = enabled\\n', '* `pcEnfPref(enforced/unenforced)`: controls whether to allow or deny all traffic in the VRF. default = enforced (deny)\\n', '\\n', '### l3extOut: layer3 out (L3out) class\\n', '* `name`: name of the L3Out profile\\n', '* CHILDREN CLASSES:\\n', '  - `ospfExtP`: OSPF information\\n', '    - `areaCost`: OSPF Cost for a default route generated by the border leaf\\n', '    - `areaCtrl`: OSPF area control, available options are `redistribute`,`summary`, and `suppress-fa`. These options can be combined.\\n', '    - `areaId`: OSPF area ID\\n', '    - `areaType`: OSPF area type\\n', '  - `l3extInstP`: L3out EPG\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/instP-demo_l3out_epg`\\n', '    - `prefGrMemb(include/exclude)`: Preferred group member\\n', '    - CHILDREN CLASSES:\\n', '      - `l3extSubnet`: This class is for L3Out EPG prefixes\\n', '        - `ip`: prefix IP address. e.g. `0.0.0.0/0`\\n', '        - `scope`: scope of the subnet prefix, available options are `export-rtctrl`, `import-security`, `shared-rtctrl`, `shared-security`, can be combined. `import-security` is the default.\\n', '        - `aggregate`: whether aggregate options are used, available options are `export-rtctrl` and `shared-rtctrl`, can be combined.\\n', '  - `l3extRsL3DomAtt`: L3Out domain associated with the L3Out profile\\n', '    - `tDn` example: `uni/l3dom-demo_l3dom`\\n', '  - `l3extLNodeP`: L3out Leaf node profile\\n', '    - `name`: name of the leaf node profile\\n', '    - `dn` example: `uni/tn-demo/out-demo_l3out/lnodep-demo_l3out_nodeProfile`\\n', '\\n', '### aaaModLR: audit log class\\n', '* `user`: name of the user who performed the action\\n', '* `ind`: used to indicate the state of an object. valid values are `creation`, `modification` or `deletion`\\n', '* `created`: a property indicate when the specific audit log was created. this does not imply whether a configuration is `created`, `modified` or `deleted`\\n', '**note** to get dates of audit log, use `created`. To get configurations made, use `ind`\\n', '\\n', '\\n', '### fabricExplicitGEp: leaf switches VPC domain class\\n', '* `name`: name of the VPC domain\\n', '* `id`: ID of the VPC domain\\n', '* `virtualIp`: virtual IP address assigned to this domain. This is dynamically assigned from TEP pool, example: `10.0.240.35/32`\\n', '* CHILDREN CLASSES:\\n', '  - `fabricLagId`: class that shows all the VPC policy groups assigned to this VPC domain\\n', '    - `accBndlGrp`: name of the VPC policy group\\n', '  - `fabricNodePEp`: class that shows the leaf node configured as part of this VPC domain\\n', '    - `id`: leaf ID\\n', '    - `mgmtIp`: management IP address of the leaf\\n', '    - `peerIp`: IP address of the node for peering\\n', '\\n', '### infraSetPol: fabric-wide settings class\\n', '* `dampFactor`: EP dampening factor, default is 1\\n', '* `disableEpDampening(yes/no)`: whether EP dampening is disabled\\n', '* `domainValidation(yes/no)`: enforce domain validation \\n', '* `enforceSubnetCheck(yes/no)`: enforce subnet check\\n', '* `leafOpflexpUseSsl(yes/no)`: whether to use SSL Opflex transport for leaf switches\\n', '* `unicastXrEpLearnDisable(yes/no)`: whether to disable remote EP learning\\n', '* `validateOverlappingVlans(yes/no)`: enforce EPG VLAN validation\\n', '\\n', '### infraAccBndlGrp: Interface VPC policy group class\\n', '* `name`: name of the VPC policy group\\n', '* `dn` example: `uni/infra/funcprof/accbundle-<name_of_vpc_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infra.RsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortGrp: Interface Access policy group class\\n', '* `name`: name of the access policy group\\n', '* `dn` example: `uni/infra/funcprof/accportgrp-<name_of_ccess_policy_group>`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRsLldpIfPol`: class related to LLDP policies\\n', '    - `tnLldpIfPolName`: name of the associated lldp policy\\n', '  - `infraRsCdpIfPol`: class related to CDP policies\\n', '    - `tnCdpIfPolName`: name of the associated cdp policy\\n', '\\n', '### infraAccPortP: Leaf interface profile class\\n', '* `name`: name of the leaf interface profile\\n', '* CHILDREN CLASSES:\\n', '  - `infraHPortS`: class for access port selectors\\n', '    - `name`: name of the access port selector\\n', '    - CHILDREN CLASSES:\\n', '      - `infraRsAccBaseGrp`: class related to access port selectors, for leaf interface access policy group\\n', '        - `tDn` format: `uni/infra/funcprof/accportgrp-<name_of_policy_group>`, which contains the name of the access interface policy group\\n', '        - `dn` format: `uni/infra/accportprof-<name_of_leaf_profile>/hports-<name_of_port_selector>-typ-range/rsaccBaseGrp`, which contains the port selector name and leaf interface profile name that the interface policy group is associated with\\n', '      - `infraPortBlk`: child class for port block that describes the actual physical line card and port associated with the port selector\\n', '        - `fromCard`: starting line card number, for 1 U devices this is always 1\\n', '        - `fromPort`: starting port number\\n', '        - `toCard`: ending line card number, for 1 U devices this is always 1\\n', '        - `toPort`: ending port number\\n', '\\n', '### fabricHIfPol: interface link speed policy\\n', '* `name`: name of the link speed policy\\n', '* `creator(USER/SYSTEM)`: whether this object is created by a user or the system.\\n', '* `linkDebounce`: link debounce interval, default = 100, unit is ms\\n', '* `speed`: speed of the link, valid values are: `100M`, `1G`, `10G`, `25G`, `40G`, `50G`, `100G`, `200G`, `400G`, `auto`, `inherit`\\n', '* `autoNeg(on/off)`: auto-negotiation setting.\\n', '\\n', '### dhcpClient: class for checking DHCP during device registration\\n', '* `clientEvent`: it captures various client configuration update events. valid values are `pending`, `assigned`, `denied`, `requesting`, `role-mismatch`\\n', '* `configNodeRole`: role of the device, valid values are `leaf` and `spine`\\n', '* `decomissioned`: no\\n', '\\n', '\\n', '### l3extDomP: L3Out domain class\\n', '* `name`: name of the L3Out domain\\n', '* `dn` example: `uni/l3dom-demo_l3dom`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to L3Out domain, for AEP associated with this domain\\n', '    - `tDn` example: `uni/infra/attentp-demo_l3out`\\n', '  - `infraRsVlanNs`: class related to L3out domain, for VLAN pool associated with this domain\\n', '    - `tDn` example: `uni/infra/vlanns-[demo_l3out_vlan]-static`, `static` at the end implies that this is a static VLAN pool\\n', '  - `extnwRtL3DomAtt`: class related to L3Out domain, for L3out associated with this domain.\\n', '    - `tDn` example: `uni/tn-demo/out-demo_l3out`\\n', '\\n', '### physDomP: Physical domain class\\n', '* `name`: name of the physical domain\\n', '* `dn` example: `uni/phys-bm_servers`\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomP`: class related to physical domain, for AEP associated with the domain\\n', '    - `tDn` example: `uni/infra/attentp-phys_aep`\\n', '  - `infraRsVlanNs`: class related to physical domain, for VLAN pool associated with the domain\\n', '    - `tDn` example: `uni/infra/vlanns-[<name_of_vlan_pool>]-static`, `static` at the end implies that this is a static VLAN pool\\n', '\\n', '### vmmDomP: VMM Domain class\\n', '* `name`: name of the VMM domain\\n', '* `access-mode`: level of access that the APIC has to integrated vCenter\\n', '* `dn` example: `uni/vmmp-VMware/dom-vcenter_home`, `vcenter_home` is a user defined name. `vmmp-VMWare` is a system defined parameter\\n', '* CHILDREN CLASSES:\\n', '  - `infraRtDomAtt`: class related to the VMM domain, for EPGs associated with the domain\\n', '    - `tDn` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`\\n', '    - `tCl`: `fvAEPg`\\n', '  - `vmmRsDefaultCdpIfPol`: class related to the VMM domain, for CDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/cdpIfP-default`\\n', '  - `vmmRsDefaultLldpIfPol`: class related to the VMM domain, for LLDP interface policy associated with the domain\\n', '    - `tDn` example: `uni/infra/lldpIfP-default`\\n', '  - `vmmCtrlrP`: class for VMM controller profile\\n', '    - `name`: name of the controller\\n', '    - `dvsVersion`: DVS version used. valid options are: `unmanaged` or a specific version number such as `7.0`\\n', '    - `hostOrIp`: hostname or the IP address of the VMM controller\\n', '    - `rootContName`: name of the Datacenter if using VMWare VMM\\n', '  - `vmmEpPD`: class for VMM Endpoint Group\\n', '    - `epgPKey` example: `uni/tn-demo/ap-demo_anp/epg-epg_vlan0001`, this represents the EPG DN\\n', '    - `allocMode`: allocation mode, `dynamic` or `static`\\n', '    - `encapMode`: encapsulation mode, valid options are `access`, `none`, `private`, `trunk`\\n', '\\n', '### topSystem: device state and configuration information class\\n', '**Note**: these attributes are per device and some are shared across multiple devices, such as the `tepPool` addresses\\n', '* `address`: IP address of the device from TEP pool\\n', '* `currentTime`: current time of the system\\n', '* `dn`: DN of the device, example DN for controller: `topology/pod-1/node-1/sys`\\n', '* `etepAddr`: external TEP address pool\\n', '* `fabricDomain`: name assigned to the fabric during installation\\n', '* `fabricId`: ID of the fabric during installation\\n', '* `id`: node ID, controllers usually starts from 1\\n', '* `inbMgmtAddr`: inband management IPv4 address\\n', '* `inbMgmtAddrMask`: inband management IPv4 address mask\\n', '* `inbMgmtGateway`: inband management IPv4 gateway\\n', '* `lastRebootTime`: last time the node was rebooted\\n', '* `name`: name of the device\\n', '* `oobMgmtAddr`: out-of-band management IPv4 address\\n', '* `oobMgmtAddrMask`: out-of-band management IPv4 address mask\\n', '* `oobMgmtGateway`: out-of-band management IPv4 gateway\\n', '* `podId`: POD-ID that this device is assigned to, used in single/multi-pod\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `siteId`: site-id assigned to this device, used in multi-site\\n', '* `state`: state of the device, available options are:`in-service`, `out-of-service`, `downloading-boot-script`, `downloading-firmware`, `invalid-ver`, `requesting-tep`\\n', '* `systemUpTime`: total uptime for the node since last reboot\\n', '* `tepPool`: fabric TEP address pool for the whole system, example: `10.0.0.0/16`\\n', '* `virtualMode(yes/no)`: whether this device was deployed in virtual mode\\n', '\\n', '### fabricNode: class for device state related information\\n', '* `id`: node ID\\n', '* `adSt(on/off)`: administrative state\\n', '* `address`: TEP address assigned to this device\\n', '* `model`: model number of the device\\n', '* `name`: name of the device\\n', '* `role`: role of the device, available options are: `controller`, `leaf`, `spine`\\n', '* `serial`: serial number of the device\\n', '* `version`: running firmware version of the device\\n', '\\n', '### l1PhysIf: class for interface state related information\\n', '* `id`: name of the interface, format example: `eth1/41`\\n', '* `adminSt(up/down)`: administrate state of the interface\\n', '* `autoNeg(on/off)`: whether auto negotiation is enabled or not\\n', '* `dn` example: `topology/pod-1/node-101/sys/phys-[eth1/41]`, contains the node ID as well\\n', '\\n', '### fabricOverallHealthHist5min: class for fabric overall health history, in 5-minute interval\\n', 'A class that represents historical statistics for overall fabric health in a 5 minute sampling interval. This class updates every 10 seconds.\\n', '* `index`: index of the object. 0 will give the most recent object\\n', '* `dn` example: `topology/HDfabricOverallHealth5min-0` and `topology/pod-1/HDfabricOverallHealth5min-0`\\n', '* `healthAvg`: average value read by the counter during the collection interval\\n', '* `healthMax`: max value read by the counter during the collection interval\\n', '* `healthMin`: minimum value read by the counter during the collection interval\\n', '* `repIntvEnd`: the current collection interval end time\\n', '* `repIntvStart`: the current collection interval start time, example\\n', 'However, this class will also return healthscore for individual PODs, if we want only the overall HS, we should simply query the dn instead, like this `moquery -d topology/HDfabricOverallHealth5min-0`\\n', '\\n', '### fvnsVlanInstP: clss for VLAN pool information\\n', '* `name`: name of the vlan pool\\n', '* `allocMode`: allocation mode, valid options are `static` and `dynamic`\\n', '* `dn` example: `uni/infra/vlanns-[phys_vlans]-static`\\n', '* CHILDREN CLASSES:\\n', '  - `fvnsRtVlanNs`: class related to the VLAN pool, for domains associated with this pool\\n', '    - `tDn` example: `uni/phys-bm_servers` implies that physical domain named `bm_servers` is using this VLAN pool\\n', '    - `tCl`: `physDomP`\\n', '  - `fvnsEncapBlk`: class for the encapsulation block\\n', '    - `from`: starting range of the VLAN block\\n', '    - `to`: ending range of the VLAN block\\n', '    - `allocMode`: allocation mode, valid options are: `inherit` means inherit the parent object setting, or `static` or `dynamic` which will override the parent setting\\n', '    - `dn` example: `uni/infra/vlanns-[phys_vlans]-static/from-[vlan-100]-to-[vlan-200]`\\n', '\\n', '### faultInst: class for fault instance\\n', \"**note** it's usually a good idea to use `-x page-size=<num>` with `faultInst` to limit the number of results\\n\", '`code`: fault codes\\n', '`ack(yes/no)`: whether the fault has been acknowledged or not\\n', '`cause`: cause of the fault, these are specific text matching the codes. for example `resolution-failed` matches code `F0952`\\n', '`severity`: severity of the fault, when sorting, \"descending\" will display the `critical` ones at the top\\n', '\\n', '\\n', '## Examples:\\n', 'Here are some moquery examples:\\n', '* how to get a list of BDs in tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=wcard(fvBD.dn,\"/tn-common/\")\\'`\\n', '* how to get the BD with the exact name of either \"customer\" or \"cust\", regardless of which tenant they belong to?  \\n', '`moquery -c fvBD -x \\'query-target-filter=or(eq(fvBD.name,\"customer\"),eq(fvBD.name,\"cust\"))\\'`\\n', '* how to get all BDs with unicast routing disabled in Tenant common?  \\n', '`moquery -c fvBD -x \\'query-target-filter=and(wcard(fvBD.dn,\"/tn-common/\"),eq(fvBD.unicastRoute,\"no\"))\\'`  \\n', '* how to get all BDs that has a subnet configured?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required`  \\n', '* how to get all BDs that has a subnet configured, and the subnet must also route leak?\\n', '`moquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvSubnet.scope,\"shared\")\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 1?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-1\"),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings tagged with VLAN 10?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-10),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of path bindings tagged with VLAN 50?\\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-50),eq(fvRsPathAtt.mode,\"regular\"))\\'`\\n', '* how to get a list of static path bindings in VLAN 5?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")\\'`\\n', '* how to get a list of static path bindings for leaf 101 and leaf 102, interface 1/24 assuming that this interface is not part of vPC or PC?  \\n', '`moquery -c fvRsPathAtt -x \\'query-target-filter=wcard(fvRsPathAtt.dn,\"paths-101/pathep-\\\\[eth1/4\\\\]\")\\'`\\n', '* how to get all the bridge domains, ordered by modification date, latest first, return only the top 1st result  \\n', \"`moquery -c fvBD -x page-size=1 page=0 order-by='fvBD.modTs|desc'`\\n\", '* how to get all configuration changes made to tenant \"demo\" between time 2023/12/21 5 AM and 202/12/30 9 PM  \\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(bw(aaaModLR.created,\"2023-12-21T05:00\",\"2023-12-30T21:00\"),wcard(aaaModLR.affected,\"tn-demo/\"))\\'`\\n', '* how to find configurations with specifically `deleted` action by user admin between 2024-02-08 and 2024-02-10\\n', '`moquery -c aaaModLR -x \\'query-target-filter=and(eq(aaaModLR.ind,\"deletion\"),eq(aaaModLR.user,\"admin\"),bw(aaaModLR.created,\"2024-02-01\",\"2024-02-15\"))\\'`\\n', '* how to find out how many Bridge Domain objects there are?\\n', '`moquery -c fvBD -x rsp-subtree-include=count`\\n', '* how to get a list of BDs associated with vrf demo_vrf\\n', '`moquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required \\'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"demo_vrf\")\\'`\\n', '* how to find all the consumers and providers of contract \"application_contract\"\\n', '`moquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required \\'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"application_contract\"),eq(fvRsCons.tnVzBrCPName,\"application_contract\"))\\'`\\n']"
    },
    {
        "role": "user",
        "content": "answer the following questions line by line, do not include any quotes, ['how to get a list of Tenants?', 'how to get a list of EPGs?', 'how to get a list of path bindings?', 'how to get a list of filters?', 'how to find a list of VPC paired devices?', 'how to get the fabric-wide settings?', 'how to get a list of LLDP neighbor mapping?', 'how to get a list of vpc policy groups?', 'how to get a list of interface link speed policies?', 'how to find the current fabric healthscore?', 'how to check if EPG VLAN validation is not enforced?', 'how to check if the fabric EP dampening is no disabled?', 'how to get a list of BDs in tenant demo?', 'how to get all BDs with unicast routing enabled in Tenant demo?', 'how to find the fabric TEP address pool?', 'how to get a list of device serial numbers and models, excluding the controllers?', 'how to find a list of interfaces that are admin down?', 'how to get a list of subnets advertised out and also route leaked?', 'how to find the subnet configured with \"192.168.5.1/24\"?', 'how to get all BDs that has a subnet configured?', 'how to get a list of BDs excluding the default ones?', 'how to get all BDs with unicast routing disabled in Tenant demo?', 'how to get a list of BDs with learning not set to limited subnet only?', 'how to get a list of BDs with non default MAC addresses?', 'how to get a list of BDs with ARP flooding disabled, excluding default BDs?', 'how to get al ist of BDs with descriptions contains the keyword vlan ?', 'how to get all VRFs with dataplane learning enabled, excluding the default ones?', 'how to find a list of devices pending for registration that are also leaf switches?', 'how to get a list of EPGs with preferred group member enabled?', 'how to get a list of EPGs with flood encap enabled?', 'how to get a list of path bindings in VLAN 5?', 'how to get a list of static path bindings tagged with VLAN 100?', 'how to get a list of path bindings between vlan 100 and 200?', 'how to get a list of static path bindings with mode 802.1P ?', 'how to get a list of path bindings in EPG epg_vlan0005 in tenant demo?', 'how to get a list of path bindings with immediacy set to on demand?', 'how to get a list of contracts, excluding \"default\"?', 'how to get a list of contracts and related subject filters, exclude any contracts named \"default\"?', 'how to get a list of filters with permit actions?', 'how to get a list of filters, excluding \"default\"?', 'how to find how many critical faults there are in the fabric?', 'how to get a list of configration related faults in Tenant demo, ordered by severity with critical being at the top?', 'how to find the total number of configuration changes created between 2024-03-20 and 2024-03-25?', 'how to find all changes made to bridge domain bd_infra since 2024-03-20?', 'how to find all changes made to bridge domain bd_app in Tenant demo since 2024-03-20?', 'how to get a list of devices that were rebooted on or after 2024-01-23?', 'how to get a list of devices not running version simsw-6.0(2h)?', 'how to get a list of L3out along with the domain associated?', 'how to get a list of L3out along with the prefixes?', 'how to get the VPC leaf switch pair configured with a virtual IP of 0.0.0.0?', 'how to get a list of critical faults?', 'how to get a list of faults with severity above \"major\", return only the top 20 results?', 'how to get all BDs configured with a subnet scope of at least \"public\"?', 'how to get a list of BDs using \"default\" vrf?', 'how to get a list of BDs with faults?', 'how to get a list of access and VPC policy groups that uses the \"lldp_enabled\" interface policy?', 'how to get a list of interface profiles and port selectors that are using access policy group \"phys_bm\"?', 'how to get a list of EPGs associated with \"home_dvs\" VMM domain?', 'how to get a list of EPGs that contains a vmm domain deployed with pre-provision setting?', 'how to get a list of path bindings modified between 2024-03-20 and 2024-03-25 configured by user named admin?', 'how to find all the EPGs that contains the physical domain named \"netcentric_dom\"?', 'how to get a list of BDs associated with vrf vrf_common?', 'how to get a list of BDs associated with vrf vrf_demo in Tenant demo?', 'how to find all the BDs associated with l3out demo_l3out?', 'how to find all the L3Outs configured with 0.0.0.0/0 prefix ?', 'how to get a list of port selectors using VPC policy group \"vpc_int03_bm\"?', 'how to find all the consumers and providers of contract \"dns_contract\"?', 'how to get a list of EPGs associated with BD bd_app regardless of Tenant?', 'how to get a list VLAN pools uses the encap range of 100 - 200?', 'how to get a list of contracts with filters that permits traffic?', 'how to get a list of filters for dns (port 53 udp and tcp) traffic?', 'how to get a list of L3out, physical and VMM domains along with the associated AEPs and VLAN pool?']"
    }
]
Model: gpt-4-1106-preview
Tools: None
ToolChoice: None

2024-03-25 21:40:35,510 - chattynetworks.aci.conversation - INFO - chatGPT responded: {
    "content": "moquery -c fvTenant\nmoquery -c fvAEPg\nmoquery -c fvRsPathAtt\nmoquery -c vzFilter\nmoquery -c fabricExplicitGEp\nmoquery -c infraSetPol\nmoquery -c lldpAdjEp\nmoquery -c infraAccBndlGrp\nmoquery -c fabricHIfPol\nmoquery -d topology/HDfabricOverallHealth5min-0\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.validateOverlappingVlans,\"no\")'\nmoquery -c infraSetPol -x 'query-target-filter=eq(infraSetPol.disableEpDampening,\"no\")'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.dn,\"/tn-demo/\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"yes\"))'\nmoquery -c topSystem -x 'query-target-filter=wcard(topSystem.dn,\"/tepPool\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.role,\"controller\")'\nmoquery -c l1PhysIf -x 'query-target-filter=eq(l1PhysIf.adminSt,\"down\")'\nmoquery -c fvSubnet -x 'query-target-filter=wcard(fvSubnet.scope,\"public,shared\")'\nmoquery -c fvSubnet -x 'query-target-filter=eq(fvSubnet.ip,\"192.168.5.1/24\")'\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.name,\"default,ave-ctrl,inb\")'\nmoquery -c fvBD -x 'query-target-filter=and(wcard(fvBD.dn,\"/tn-demo/\"),eq(fvBD.unicastRoute,\"no\"))'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.limitIpLearnToSubnets,\"yes\")'\nmoquery -c fvBD -x 'query-target-filter=ne(fvBD.mac,\"00:22:BD:F8:19:FF\")'\nmoquery -c fvBD -x 'query-target-filter=and(ne(fvBD.arpFlood,\"yes\"),ne(fvBD.name,\"default,ave-ctrl,inb\"))'\nmoquery -c fvBD -x 'query-target-filter=wcard(fvBD.descr,\"vlan\")'\nmoquery -c fvCtx -x 'query-target-filter=and(eq(fvCtx.ipDataPlaneLearning,\"enabled\"),ne(fvCtx.name,\"overlay-1,default,copy,oob,inb,ave-ctrl\"))'\nmoquery -c dhcpClient -x 'query-target-filter=and(eq(dhcpClient.clientEvent,\"pending\"),eq(dhcpClient.configNodeRole,\"leaf\"))'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.prefGrMemb,\"include\")'\nmoquery -c fvAEPg -x 'query-target-filter=eq(fvAEPg.floodOnEncap,\"enabled\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.encap,\"vlan-5\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(eq(fvRsPathAtt.encap,\"vlan-100\"),eq(fvRsPathAtt.mode,\"regular\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=and(ge(fvRsPathAtt.encap,\"vlan-100\"),le(fvRsPathAtt.encap,\"vlan-200\"))'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.mode,\"native\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=wcard(fvRsPathAtt.dn,\"/tn-demo/ap-demo_anp/epg-epg_vlan0005/\")'\nmoquery -c fvRsPathAtt -x 'query-target-filter=eq(fvRsPathAtt.instrImedcy,\"lazy\")'\nmoquery -c vzBrCP -x 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'query-target-filter=ne(vzBrCP.name,\"default\")'\nmoquery -c vzFilter -x 'query-target-filter=wcard(vzEntry.action,\"permit\")'\nmoquery -c vzFilter -x 'query-target-filter=ne(vzFilter.name,\"default\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=and(wcard(faultInst.dn,\"/tn-demo/\"),eq(faultInst.severity,\"critical\"))' -x order-by='faultInst.severity|desc'\nmoquery -c aaaModLR -x 'query-target-filter=bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\")' -x rsp-subtree-include=count\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/BD-bd_infra/\"),bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"))'\nmoquery -c aaaModLR -x 'query-target-filter=and(wcard(aaaModLR.affected,\"/tn-demo/BD-bd_app/\"),bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"))'\nmoquery -c topSystem -x 'query-target-filter=ge(topSystem.lastRebootTime,\"2024-01-23T00:00\")'\nmoquery -c fabricNode -x 'query-target-filter=ne(fabricNode.version,\"simsw-6.0(2h)\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extRsL3DomAtt rsp-subtree-include=required\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required\nmoquery -c fabricExplicitGEp -x 'query-target-filter=eq(fabricExplicitGEp.virtualIp,\"0.0.0.0/32\")'\nmoquery -c faultInst -x 'query-target-filter=eq(faultInst.severity,\"critical\")'\nmoquery -c faultInst -x 'query-target-filter=gt(faultInst.severity,\"major\")' -x page-size=20\nmoquery -c fvBD -x rsp-subtree-class=fvSubnet rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvSubnet.scope,\"public\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"default\")'\nmoquery -c fvBD -x rsp-subtree=children rsp-subtree-class=faultInst rsp-subtree-include=required\nmoquery -c infraAccPortGrp,infraAccBndlGrp -x rsp-subtree=children rsp-subtree-class=infraRsLldpIfPol rsp-subtree-include=required 'rsp-subtree-filter=eq(infraRsLldpIfPol.tnLldpIfPolName,\"lldp_enabled\")'\nmoquery -c infraAccPortP -x rsp-subtree=children rsp-subtree-class=infraHPortS rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accportgrp-phys_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=wcard(fvRsDomAtt.tDn,\"/vmmp-VMware/dom-home_dvs\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.resImedcy,\"pre-provision\")'\nmoquery -c aaaModLR -x 'query-target-filter=and(bw(aaaModLR.created,\"2024-03-20T00:00\",\"2024-03-25T23:59\"),eq(aaaModLR.user,\"admin\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsDomAtt rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsDomAtt.tDn,\"uni/phys-netcentric_dom\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsCtx.tnFvCtxName,\"vrf_common\")'\nmoquery -c fvBD -x rsp-subtree-class=fvRsCtx rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=and(eq(fvRsCtx.tnFvCtxName,\"vrf_demo\"),wcard(fvRsCtx.dn,\"/tn-demo/\"))'\nmoquery -c fvBD -x rsp-subtree-class=fvRsBDToOut rsp-subtree=children rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBDToOut.tnL3extOutName,\"demo_l3out\")'\nmoquery -c l3extOut -x rsp-subtree=children rsp-subtree-class=l3extSubnet rsp-subtree-include=required 'rsp-subtree-filter=eq(l3extSubnet.ip,\"0.0.0.0/0\")'\nmoquery -c infraHPortS -x rsp-subtree=children rsp-subtree-class=infraRsAccBaseGrp rsp-subtree-include=required 'rsp-subtree-filter=wcard(infraRsAccBaseGrp.tDn,\"/accbundle-vpc_int03_bm\")'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsProv,fvRsCons rsp-subtree-include=required 'rsp-subtree-filter=or(eq(fvRsProv.tnVzBrCPName,\"dns_contract\"),eq(fvRsCons.tnVzBrCPName,\"dns_contract\"))'\nmoquery -c fvAEPg -x rsp-subtree=children rsp-subtree-class=fvRsBd rsp-subtree-include=required 'rsp-subtree-filter=eq(fvRsBd.tnFvBDName,\"bd_app\")'\nmoquery -c fvnsVlanInstP -x rsp-subtree=children rsp-subtree-class=fvnsEncapBlk rsp-subtree-include=required 'rsp-subtree-filter=and(ge(fvnsEncapBlk.from,\"vlan-100\"),le(fvnsEncapBlk.to,\"vlan-200\"))'\nmoquery -c vzBrCP -x rsp-subtree=children rsp-subtree-class=vzSubj rsp-subtree-include=required 'rsp-subtree-filter=wcard(vzRsSubjFiltAtt.action,\"permit\")'\nmoquery -c vzFilter -x rsp-subtree=children rsp-subtree-class=vzEntry rsp-subtree-include=required 'rsp-subtree-filter=or(eq(vzEntry.protocol,\"tcp\"),eq(vzEntry.protocol,\"udp\"))' 'query-target-filter=eq(vzEntry.dFromPort,\"53\")'\nmoquery -c l3extDomP,physDomP,vmmDomP -x rsp-subtree=children rsp-subtree-class=infraRtDomP,infraRsVlanNs rsp-subtree-include=required",
    "role": "assistant",
    "tool_calls": null
}
2024-03-25 21:49:21,230 - chattynetworks.aci.conversation - INFO - ________________________________Begin Logging________________________________
